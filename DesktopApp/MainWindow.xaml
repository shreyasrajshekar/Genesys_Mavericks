<Window x:Class="DRYRUN.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Zenith Intelligence" Height="850" Width="1200"
        Background="Transparent" WindowStyle="None" AllowsTransparency="True"
        WindowStartupLocation="CenterScreen">

    <Window.Resources>
        <Style x:Key="StatCard" TargetType="Border">
            <Setter Property="Background" Value="#0F1219"/>
            <Setter Property="CornerRadius" Value="15"/>
            <Setter Property="BorderBrush" Value="#2A2F3E"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Margin" Value="8"/>
        </Style>

        <Geometry x:Key="IconCpu">M13,3V5H11V3H13M15,3V5H17V3H15M11,19V21H13V19H11M15,19V21H17V19H15M5,3V5H7V3H5M5,19V21H7V19H5M3,15H5V17H3V15M3,11H5V13H3V11M3,7H5V9H3V7M19,15H21V17H19V15M19,11H21V13H19V11M19,7H21V9H19V7M7,7V17H17V7H7M9,9H15V15H9V9Z</Geometry>
        <Geometry x:Key="IconRam">M2,7H4V17H2V7M20,7H22V17H20V7M17,7H19V17H17V7M5,7H7V17H5V7M14,7H16V17H14V7M8,7H10V17H8V7M11,7H13V17H11V7Z</Geometry>
        <Geometry x:Key="IconBattery">M16,20H8V6H16M16.67,4H15V2H9V4H7.33C6.6,4 6,4.6 6,5.33V20.67C6,21.4 6.6,22 7.33,22H16.67C17.41,22 18,21.4 18,20.67V5.33C18,4.6 17.41,4 16.67,4Z</Geometry>
        <Geometry x:Key="IconMobile">M17,19H7V5H17M17,1H7C5.89,1 5,1.89 5,3V21C5,22.1 5.89,23 7,23H17C18.1,23 19,22.1 19,21V3C19,1.89 18.1,1 17,1Z</Geometry>
    </Window.Resources>

    <Border Background="#08080A" CornerRadius="25" BorderBrush="#333" BorderThickness="1.5">
        <Grid Margin="15">
            <Grid.RowDefinitions>
                <RowDefinition Height="45"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- TITLE BAR -->
            <Grid Grid.Row="0" MouseDown="Window_MouseDown">
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="15,0">
                    <Ellipse Width="8" Height="8" Fill="#00FFA3" Margin="0,0,12,0"/>
                    <TextBlock Text="ZENITH SYSTEM DIAGNOSTICS" Foreground="#555" FontSize="10" FontWeight="Bold"/>
                </StackPanel>
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                    <Button Content="—" Click="Minimize_Click" Background="Transparent" Foreground="#666" BorderThickness="0" Width="45"/>
                    <Button Content="✕" Click="Close_Click" Background="Transparent" Foreground="#444" BorderThickness="0" Width="45"/>
                </StackPanel>
            </Grid>

            <!-- TOP STAT CARDS -->
            <UniformGrid Grid.Row="1" Columns="3">
                <Border Style="{StaticResource StatCard}">
                    <StackPanel Margin="20">
                        <Path Data="{StaticResource IconCpu}" Fill="#00FFA3" Width="25" Height="25" HorizontalAlignment="Left" Opacity="0.5"/>
                        <TextBlock x:Name="CpuText" Text="0%" Foreground="White" FontSize="42" FontWeight="Thin" Margin="0,5"/>
                        <ProgressBar x:Name="CpuBar" Value="0" Height="2" Foreground="#00FFA3" Background="#11FFFFFF" BorderThickness="0"/>
                    </StackPanel>
                </Border>
                <Border Style="{StaticResource StatCard}">
                    <StackPanel Margin="20">
                        <Path Data="{StaticResource IconRam}" Fill="#03A9F4" Width="25" Height="25" HorizontalAlignment="Left" Opacity="0.5"/>
                        <TextBlock x:Name="RamText" Text="0%" Foreground="White" FontSize="42" FontWeight="Thin" Margin="0,5"/>
                        <TextBlock x:Name="RamHealthLabel" Text="OPTIMAL" Foreground="#03A9F4" FontSize="9"/>
                        <ProgressBar x:Name="RamBar" Value="0" Height="2" Foreground="#03A9F4" Background="#11FFFFFF" BorderThickness="0" Margin="0,5,0,0"/>
                    </StackPanel>
                </Border>
                <Border Style="{StaticResource StatCard}">
                    <StackPanel Margin="20">
                        <Path Data="{StaticResource IconBattery}" Fill="#FFD700" Width="25" Height="25" HorizontalAlignment="Left" Opacity="0.5"/>
                        <TextBlock x:Name="PcBatteryText" Text="0%" Foreground="White" FontSize="42" FontWeight="Thin" Margin="0,5"/>
                        <TextBlock x:Name="PcWearLabel" Text="WEAR: 0%" Foreground="#FF4B4B" FontSize="9"/>
                        <ProgressBar x:Name="PcBatteryBar" Value="0" Height="2" Foreground="#FFD700" Background="#11FFFFFF" BorderThickness="0" Margin="0,5,0,0"/>
                    </StackPanel>
                </Border>
            </UniformGrid>

            <!-- BOTTOM GRID: LEFT = Green Scores + Feed, RIGHT = Mobile Node -->
            <Grid Grid.Row="2">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="380"/>
                </Grid.ColumnDefinitions>

                <!-- LEFT: Green Scores + System Feed -->
                <StackPanel Grid.Column="0" Margin="10" VerticalAlignment="Top" Orientation="Vertical">
                    <!-- Green Score Cards -->
                    <UniformGrid Columns="2" Margin="0,0,0,10">
                        <!-- PC Green Score -->
                        <Border Style="{StaticResource StatCard}">
                            <StackPanel Margin="10">
                                <TextBlock Text="PC Green Score" Foreground="#AAA" FontSize="10" FontWeight="Bold"/>
                                <TextBlock x:Name="GreenScoreText" Text="0%" Foreground="White" FontSize="14" FontWeight="Bold" Margin="0,2"/>
                                <ProgressBar x:Name="GreenScoreBar" Height="8" Value="0" Foreground="#00FFA3" Background="#11FFFFFF" BorderThickness="0"/>
                            </StackPanel>
                        </Border>

                        <!-- Mobile Green Score -->
                        <Border Style="{StaticResource StatCard}">
                            <StackPanel Margin="10">
                                <TextBlock Text="Mobile Green Score" Foreground="#AAA" FontSize="10" FontWeight="Bold"/>
                                <TextBlock x:Name="MobileGreenScoreText" Text="0%" Foreground="White" FontSize="14" FontWeight="Bold" Margin="0,2"/>
                                <ProgressBar x:Name="MobileGreenScoreBar" Height="8" Value="0" Foreground="#03A9F4" Background="#11FFFFFF" BorderThickness="0"/>
                            </StackPanel>
                        </Border>
                    </UniformGrid>

                    <!-- SYSTEM FEED -->
                    <Border Style="{StaticResource StatCard}" Background="#050507">
                        <Grid Margin="20">
                            <TextBlock Text="SYSTEM FEED" Foreground="#333" FontSize="10" FontWeight="Bold" VerticalAlignment="Top"/>
                            <ScrollViewer Margin="0,25,0,0" VerticalScrollBarVisibility="Hidden">
                                <ItemsControl x:Name="AlertFeedControl">
                                    <ItemsControl.ItemTemplate>
                                        <DataTemplate>
                                            <Border BorderBrush="#0FFFFFFF" BorderThickness="0,0,0,1" Padding="0,8">
                                                <TextBlock TextWrapping="Wrap" FontFamily="Consolas" FontSize="12">
                                                    <Run Text="{Binding AlertMessage}" Foreground="#FF4B4B" FontWeight="Bold"/>
                                                    <Run Text=" "/>
                                                    <Run Text="{Binding SuggestionText}" Foreground="#888"/>
                                                </TextBlock>
                                            </Border>
                                        </DataTemplate>
                                    </ItemsControl.ItemTemplate>
                                </ItemsControl>
                            </ScrollViewer>
                        </Grid>
                    </Border>
                </StackPanel>

                <!-- RIGHT: Mobile Node -->
                <Border Grid.Column="1" Style="{StaticResource StatCard}">
                    <Grid Margin="25">
                        <StackPanel x:Name="MobileDataContainer" Opacity="0.2">
                            <TextBlock x:Name="AdbWaitText" Text="Waiting for mobile connection..." Foreground="#666" FontSize="12" Margin="0,0,0,15"/>

                            <TextBlock Text="Battery Level:" Foreground="#AAA" FontSize="10"/>
                            <TextBlock x:Name="MobileLevelText" Text="0%" Foreground="White" FontSize="24" FontWeight="Bold"/>

                            <TextBlock Text="Battery Health:" Foreground="#AAA" FontSize="10" Margin="0,5,0,0"/>
                            <TextBlock x:Name="MobileHealthText" Text="GOOD" Foreground="White" FontSize="14"/>

                            <TextBlock Text="Battery Temp:" Foreground="#AAA" FontSize="10" Margin="0,5,0,0"/>
                            <TextBlock x:Name="MobileTempText" Text="0°C" Foreground="White" FontSize="14"/>

                            <TextBlock Text="Network:" Foreground="#AAA" FontSize="10" Margin="0,5,0,0"/>
                            <TextBlock x:Name="MobileNetText" Text="UNKNOWN" Foreground="White" FontSize="14"/>

                            <TextBlock Text="Storage Used:" Foreground="#AAA" FontSize="10" Margin="0,5,0,0"/>
                            <TextBlock x:Name="MobileStoreText" Text="0%" Foreground="White" FontSize="14"/>

                            <TextBlock Text="RAM Usage:" Foreground="#AAA" FontSize="10" Margin="0,5,0,0"/>
                            <TextBlock x:Name="MobileRamText" Text="0 GB" Foreground="White" FontSize="14"/>
                            <ProgressBar x:Name="MobileRamBar" Minimum="0" Maximum="100" Height="8" Value="0" Foreground="#03A9F4" Background="#11FFFFFF" Margin="0,5,0,0"/>
                        </StackPanel>
                    </Grid>
                </Border>
            </Grid>
        </Grid>
    </Border>
</Window>
